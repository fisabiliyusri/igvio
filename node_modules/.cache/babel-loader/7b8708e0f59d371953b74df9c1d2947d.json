{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Yasin/Desktop/igdownloader-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Yasin/Desktop/igdownloader-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Yasin/Desktop/igdownloader-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import\"./Styles/reel.css\";import LoadingAnimation from\"./LoadingAnimation\";import SearchForm from\"./Header/SearchForm\";import LoadedReels from\"./LoadedResponses/LoadedReels\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Reels=function Reels(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),reelUrl=_useState2[0],setReelUrl=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hasLoaded=_useState6[0],setHasLoaded=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),responseObj=_useState8[0],setResponseObj=_useState8[1];function getId(url){return url.slice(31,42);}function onChangehandler(e){setReelUrl(e.target.value);}function submitHandler(e){e.preventDefault();if(reelUrl.length===0){alert(\"Empty Reel link !\");return;}setIsLoading(true);fetchReel();}function fetchReel(){return _fetchReel.apply(this,arguments);}function _fetchReel(){_fetchReel=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var reelId,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:reelId=getId(reelUrl);if(!(reelId.length!==11)){_context.next=5;break;}alert(\"Invaid Reel URL\");setIsLoading(false);return _context.abrupt(\"return\");case 5:_context.next=7;return fetch(\"\".concat(process.env.REACT_APP_IG_REEL).concat(reelId),{method:\"GET\",headers:{\"x-rapidapi-key\":\"\".concat(process.env.REACT_APP_KEY),\"x-rapidapi-host\":\"\".concat(process.env.REACT_APP_HOST)}});case 7:response=_context.sent;_context.next=10;return response.json();case 10:data=_context.sent;setResponseObj(data[0]);setIsLoading(false);setHasLoaded(true);case 14:case\"end\":return _context.stop();}}},_callee);}));return _fetchReel.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"section\",{id:\"reel-section\",children:[/*#__PURE__*/_jsx(SearchForm,{submitHandler:submitHandler,onChangehandler:onChangehandler,placeholder:\"Enter Reel link\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"reel-response\",children:[isLoading&&/*#__PURE__*/_jsx(LoadingAnimation,{}),hasLoaded&&/*#__PURE__*/_jsx(LoadedReels,{responseObj:responseObj})]})]});};export default Reels;","map":{"version":3,"sources":["C:/Users/Yasin/Desktop/igdownloader-main/src/components/Reels.jsx"],"names":["useState","LoadingAnimation","SearchForm","LoadedReels","Reels","props","reelUrl","setReelUrl","isLoading","setIsLoading","hasLoaded","setHasLoaded","responseObj","setResponseObj","getId","url","slice","onChangehandler","e","target","value","submitHandler","preventDefault","length","alert","fetchReel","reelId","fetch","process","env","REACT_APP_IG_REEL","method","headers","REACT_APP_KEY","REACT_APP_HOST","response","json","data"],"mappings":"0dAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAO,mBAAP,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,CACrB,cAA8BL,QAAQ,EAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAAkCP,QAAQ,CAAC,KAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eACA,eAAkCT,QAAQ,CAAC,KAAD,CAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eACA,eAAsCX,QAAQ,EAA9C,yCAAOY,WAAP,eAAoBC,cAApB,eAEA,QAASC,CAAAA,KAAT,CAAeC,GAAf,CAAoB,CAChB,MAAOA,CAAAA,GAAG,CAACC,KAAJ,CAAU,EAAV,CAAc,EAAd,CAAP,CACH,CAED,QAASC,CAAAA,eAAT,CAAyBC,CAAzB,CAA4B,CACxBX,UAAU,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CACH,CAED,QAASC,CAAAA,aAAT,CAAuBH,CAAvB,CAA0B,CACtBA,CAAC,CAACI,cAAF,GACA,GAAIhB,OAAO,CAACiB,MAAR,GAAmB,CAAvB,CAA0B,CACtBC,KAAK,CAAC,mBAAD,CAAL,CACA,OACH,CACDf,YAAY,CAAC,IAAD,CAAZ,CACAgB,SAAS,GACZ,CAtBoB,QAwBNA,CAAAA,SAxBM,qIAwBrB,4JACUC,MADV,CACmBZ,KAAK,CAACR,OAAD,CADxB,MAEQoB,MAAM,CAACH,MAAP,GAAkB,EAF1B,0BAGQC,KAAK,CAAC,iBAAD,CAAL,CACAf,YAAY,CAAC,KAAD,CAAZ,CAJR,8DAO2BkB,CAAAA,KAAK,WACrBC,OAAO,CAACC,GAAR,CAAYC,iBADS,SACWJ,MADX,EAExB,CACIK,MAAM,CAAE,KADZ,CAEIC,OAAO,CAAE,CACL,2BAAqBJ,OAAO,CAACC,GAAR,CAAYI,aAAjC,CADK,CAEL,4BAAsBL,OAAO,CAACC,GAAR,CAAYK,cAAlC,CAFK,CAFb,CAFwB,CAPhC,QAOUC,QAPV,sCAiBuBA,CAAAA,QAAQ,CAACC,IAAT,EAjBvB,SAiBUC,IAjBV,eAkBIxB,cAAc,CAACwB,IAAI,CAAC,CAAD,CAAL,CAAd,CACA5B,YAAY,CAAC,KAAD,CAAZ,CACAE,YAAY,CAAC,IAAD,CAAZ,CApBJ,uDAxBqB,4CA+CrB,mBACI,iBAAS,EAAE,CAAC,cAAZ,wBACI,KAAC,UAAD,EACI,aAAa,CAAEU,aADnB,CAEI,eAAe,CAAEJ,eAFrB,CAGI,WAAW,CAAC,iBAHhB,EADJ,cAOI,aAAK,SAAS,CAAC,eAAf,WACKT,SAAS,eAAI,KAAC,gBAAD,IADlB,CAEKE,SAAS,eAAI,KAAC,WAAD,EAAa,WAAW,CAAEE,WAA1B,EAFlB,GAPJ,GADJ,CAcH,CA7DD,CA+DA,cAAeR,CAAAA,KAAf","sourcesContent":["import { useState } from \"react\";\nimport \"./Styles/reel.css\";\nimport LoadingAnimation from \"./LoadingAnimation\";\nimport SearchForm from \"./Header/SearchForm\";\nimport LoadedReels from \"./LoadedResponses/LoadedReels\";\n\nconst Reels = (props) => {\n    const [reelUrl, setReelUrl] = useState();\n    const [isLoading, setIsLoading] = useState(false);\n    const [hasLoaded, setHasLoaded] = useState(false);\n    const [responseObj, setResponseObj] = useState();\n\n    function getId(url) {\n        return url.slice(31, 42);\n    }\n\n    function onChangehandler(e) {\n        setReelUrl(e.target.value);\n    }\n\n    function submitHandler(e) {\n        e.preventDefault();\n        if (reelUrl.length === 0) {\n            alert(\"Empty Reel link !\");\n            return;\n        }\n        setIsLoading(true);\n        fetchReel();\n    }\n\n    async function fetchReel() {\n        const reelId = getId(reelUrl);\n        if (reelId.length !== 11) {\n            alert(\"Invaid Reel URL\");\n            setIsLoading(false);\n            return;\n        }\n        const response = await fetch(\n            `${process.env.REACT_APP_IG_REEL}${reelId}`,\n            {\n                method: \"GET\",\n                headers: {\n                    \"x-rapidapi-key\": `${process.env.REACT_APP_KEY}`,\n                    \"x-rapidapi-host\": `${process.env.REACT_APP_HOST}`,\n                },\n            }\n        );\n        const data = await response.json();\n        setResponseObj(data[0]);\n        setIsLoading(false);\n        setHasLoaded(true);\n    }\n\n    return (\n        <section id=\"reel-section\">\n            <SearchForm\n                submitHandler={submitHandler}\n                onChangehandler={onChangehandler}\n                placeholder=\"Enter Reel link\"\n            />\n\n            <div className=\"reel-response\">\n                {isLoading && <LoadingAnimation />}\n                {hasLoaded && <LoadedReels responseObj={responseObj} />}\n            </div>\n        </section>\n    );\n};\n\nexport default Reels;\n"]},"metadata":{},"sourceType":"module"}