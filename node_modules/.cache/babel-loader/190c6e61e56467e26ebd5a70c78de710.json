{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Yasin/Desktop/igdownloader-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Yasin/Desktop/igdownloader-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Yasin/Desktop/igdownloader-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import\"./Styles/profile.css\";import LoadingAnimation from\"./LoadingAnimation\";import SearchForm from\"./Header/SearchForm\";import LoadedProfile from\"./LoadedResponses/LoadedProfile\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),responseObj=_useState4[0],setResponseObj=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),hasLoaded=_useState8[0],setHasLoaded=_useState8[1];function submitHandler(e){e.preventDefault();if(userId.length===0){alert(\"Empty Username !\");return;}setIsLoading(true);fetchProfile();}function onChangehandler(e){setUserId(e.target.value);}function fetchProfile(){return _fetchProfile.apply(this,arguments);}function _fetchProfile(){_fetchProfile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var id,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=userId;_context.next=3;return fetch(\"\".concat(process.env.REACT_APP_IG_PROFILE).concat(id),{method:\"GET\",headers:{\"x-rapidapi-key\":\"\".concat(process.env.REACT_APP_KEY),\"x-rapidapi-host\":\"\".concat(process.env.REACT_APP_HOST)}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;try{setResponseObj(data[0]);}catch(error){console.log(error.message);}setIsLoading(false);setHasLoaded(true);case 10:case\"end\":return _context.stop();}}},_callee);}));return _fetchProfile.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"section\",{id:\"profile-section\",children:[/*#__PURE__*/_jsx(SearchForm,{submitHandler:submitHandler,onChangehandler:onChangehandler,placeholder:\"Enter Username\"}),/*#__PURE__*/_jsxs(\"main\",{className:\"profile-response\",children:[isLoading&&/*#__PURE__*/_jsx(LoadingAnimation,{}),hasLoaded&&/*#__PURE__*/_jsx(LoadedProfile,{responseObj:responseObj})]})]});};export default Profile;","map":{"version":3,"sources":["C:/Users/Yasin/Desktop/igdownloader-main/src/components/Profile.jsx"],"names":["useState","LoadingAnimation","SearchForm","LoadedProfile","Profile","props","userId","setUserId","responseObj","setResponseObj","isLoading","setIsLoading","hasLoaded","setHasLoaded","submitHandler","e","preventDefault","length","alert","fetchProfile","onChangehandler","target","value","id","fetch","process","env","REACT_APP_IG_PROFILE","method","headers","REACT_APP_KEY","REACT_APP_HOST","response","json","data","error","console","log","message"],"mappings":"0dAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAO,sBAAP,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACvB,cAA4BL,QAAQ,CAAC,EAAD,CAApC,wCAAOM,MAAP,eAAeC,SAAf,eACA,eAAsCP,QAAQ,CAAC,EAAD,CAA9C,yCAAOQ,WAAP,eAAoBC,cAApB,eACA,eAAkCT,QAAQ,CAAC,KAAD,CAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eACA,eAAkCX,QAAQ,CAAC,KAAD,CAA1C,yCAAOY,SAAP,eAAkBC,YAAlB,eAEA,QAASC,CAAAA,aAAT,CAAuBC,CAAvB,CAA0B,CACtBA,CAAC,CAACC,cAAF,GACA,GAAGV,MAAM,CAACW,MAAP,GAAkB,CAArB,CAAuB,CACnBC,KAAK,CAAC,kBAAD,CAAL,CACA,OACH,CACDP,YAAY,CAAC,IAAD,CAAZ,CACAQ,YAAY,GACf,CAED,QAASC,CAAAA,eAAT,CAAyBL,CAAzB,CAA4B,CACxBR,SAAS,CAACQ,CAAC,CAACM,MAAF,CAASC,KAAV,CAAT,CACH,CAlBsB,QAoBRH,CAAAA,YApBQ,8IAoBvB,wJACUI,EADV,CACejB,MADf,uBAE2BkB,CAAAA,KAAK,WACrBC,OAAO,CAACC,GAAR,CAAYC,oBADS,SACcJ,EADd,EAExB,CACIK,MAAM,CAAE,KADZ,CAEIC,OAAO,CAAE,CACL,2BACOJ,OAAO,CAACC,GAAR,CAAYI,aADnB,CADK,CAGL,4BACOL,OAAO,CAACC,GAAR,CAAYK,cADnB,CAHK,CAFb,CAFwB,CAFhC,QAEUC,QAFV,qCAcuBA,CAAAA,QAAQ,CAACC,IAAT,EAdvB,QAcUC,IAdV,eAeI,GAAI,CACAzB,cAAc,CAACyB,IAAI,CAAC,CAAD,CAAL,CAAd,CACH,CAAC,MAAOC,KAAP,CAAc,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB,EACH,CACD3B,YAAY,CAAC,KAAD,CAAZ,CACAE,YAAY,CAAC,IAAD,CAAZ,CArBJ,uDApBuB,+CA4CvB,mBACI,iBAAS,EAAE,CAAC,iBAAZ,wBACI,KAAC,UAAD,EAAY,aAAa,CAAEC,aAA3B,CAA0C,eAAe,CAAEM,eAA3D,CAA4E,WAAW,CAAC,gBAAxF,EADJ,cAEI,cAAM,SAAS,CAAC,kBAAhB,WACKV,SAAS,eAAI,KAAC,gBAAD,IADlB,CAEKE,SAAS,eAAI,KAAC,aAAD,EAAe,WAAW,CAAEJ,WAA5B,EAFlB,GAFJ,GADJ,CASH,CArDD,CAuDA,cAAeJ,CAAAA,OAAf","sourcesContent":["import { useState } from \"react\";\nimport \"./Styles/profile.css\";\nimport LoadingAnimation from \"./LoadingAnimation\";\nimport SearchForm from \"./Header/SearchForm\";\nimport LoadedProfile from \"./LoadedResponses/LoadedProfile\";\n\nconst Profile = (props) => {\n    const [userId, setUserId] = useState(\"\");\n    const [responseObj, setResponseObj] = useState({});\n    const [isLoading, setIsLoading] = useState(false);\n    const [hasLoaded, setHasLoaded] = useState(false);\n\n    function submitHandler(e) {\n        e.preventDefault();\n        if(userId.length === 0){\n            alert(\"Empty Username !\");\n            return;\n        }\n        setIsLoading(true);\n        fetchProfile();\n    }\n\n    function onChangehandler(e) {\n        setUserId(e.target.value);\n    }\n\n    async function fetchProfile() {\n        const id = userId;\n        const response = await fetch(\n            `${process.env.REACT_APP_IG_PROFILE}${id}`,\n            {\n                method: \"GET\",\n                headers: {\n                    \"x-rapidapi-key\":\n                        `${process.env.REACT_APP_KEY}`,\n                    \"x-rapidapi-host\":\n                        `${process.env.REACT_APP_HOST}`,\n                },\n            }\n        );\n        const data = await response.json();\n        try {\n            setResponseObj(data[0]);\n        } catch (error) {\n            console.log(error.message);\n        }\n        setIsLoading(false);\n        setHasLoaded(true);\n    }\n\n    return (\n        <section id=\"profile-section\">\n            <SearchForm submitHandler={submitHandler} onChangehandler={onChangehandler} placeholder=\"Enter Username\"/>\n            <main className=\"profile-response\">\n                {isLoading && <LoadingAnimation />}\n                {hasLoaded && <LoadedProfile responseObj={responseObj}/>}\n            </main >\n        </section>\n    );\n};\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}